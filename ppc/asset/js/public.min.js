!function(){for(var e=0,n=["ms","moz","webkit","o"],t=0;t<n.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[n[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[t]+"CancelAnimationFrame"]||window[n[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n,t){var o=(new Date).getTime(),i=Math.max(0,16-(o-e)),r=window.setTimeout(function(){n(o+i)},i);return e=o+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var shareArr={_title:"与刘嘉玲、娜扎一起领略ROSSO VALENTINO梦幻之作",_desc:"与刘嘉玲、娜扎一起领略ROSSO VALENTINO梦幻之作",_desc_friend:"红色SPIKE铆钉链条包，Valentino微信独家限量发售。",_link:window.location.host+"/event",_imgUrl:"http://"+window.location.host+"/event/asset/img/share.jpg",_url:encodeURIComponent(window.location)},pfun={init:function(){var e=this;e.wxshareFun()},loadFn:function(e,n,t){for(var o=new PxLoader,i=0;i<e.length;i++)o.addImage(e[i]);o.addProgressListener(function(e){var n=Math.round(e.completedCount/e.totalCount*100);t&&t(n)}),o.addCompletionListener(function(){n&&n()}),o.start()},formErrorTips:function(e){var n;if(clearTimeout(n),$(".alertNode").length>0)$(".alertNode").html(e);else{var t=document.createElement("div");t.setAttribute("class","alertNode"),t.innerHTML=e,document.body.appendChild(t)}n=setTimeout(function(){$(".alertNode").remove()},3e3)},wechatFun:function(e,n,t,o){wx.config({debug:!1,appId:e,timestamp:n,nonceStr:t,signature:o,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","closeWindow"]}),this.wxshareFun()},wxshareFun:function(){wx.ready(function(){wx.onMenuShareAppMessage({title:shareArr._title,desc:shareArr._desc_friend,link:shareArr._link,imgUrl:shareArr._imgUrl,success:function(e){_hmt.push(["_trackEvent","eventShare","eventShareAppMessage"])},cancel:function(e){},fail:function(e){}}),wx.onMenuShareTimeline({title:shareArr._desc,link:shareArr._link,imgUrl:shareArr._imgUrl,success:function(e){_hmt.push(["_trackEvent","eventShare","eventShareTimeline"])},cancel:function(e){},fail:function(e){}})})},ajaxFun:function(e,n,t,o,i){$.ajax({type:e,url:n,data:t,dataType:o}).done(function(e){i(e)})},loadingFnDoing:function(e,n){pfun.loadFn(e,function(){$("img").each(function(){$(this).attr("src",$(this).attr("sourcesrc"))}),n()},function(e){console.log(e)})},overscroll:function(e){e.addEventListener("touchstart",function(){var n=e.scrollTop,t=e.scrollHeight,o=n+e.offsetHeight;0===n?e.scrollTop=1:o===t&&(e.scrollTop=n-1)}),e.addEventListener("touchmove",function(n){e.offsetHeight<e.scrollHeight&&(n._isScroller=!0)})},getCookie:function(e){var n,t=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(n=document.cookie.match(t))?unescape(n[2]):null},delCookie:function(e){var n=new Date;n.setTime(n.getTime()-1);var t=this.getCookie(e);null!=t&&(document.cookie=e+"="+t+";expires="+n.toGMTString())},setCookie:function(e,n,t){var o=new Date;o.setTime(o.getTime()+24*t*60*60*1e3);var i="expires="+o.toUTCString();document.cookie=e+"="+n+"; "+i},getQueryString:function(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(n);return null!=t?unescape(t[2]):null}};document.body.addEventListener("touchmove",function(e){e._isScroller||e.preventDefault()});